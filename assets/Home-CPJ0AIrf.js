import{R as y,r as C,j as e,B as L}from"./index--4Bsr5xr.js";import{u as _,S as i,a as x,b as B}from"./index-tArYjG60.js";const M=y.createContext({}),$=!0;function O({baseColor:a,highlightColor:l,width:m,height:p,borderRadius:h,circle:b,direction:r,duration:f,enableAnimation:n=$,customHighlightBackground:c}){const s={};return r==="rtl"&&(s["--animation-direction"]="reverse"),typeof f=="number"&&(s["--animation-duration"]=`${f}s`),n||(s["--pseudo-element-display"]="none"),(typeof m=="string"||typeof m=="number")&&(s.width=m),(typeof p=="string"||typeof p=="number")&&(s.height=p),(typeof h=="string"||typeof h=="number")&&(s.borderRadius=h),b&&(s.borderRadius="50%"),typeof a<"u"&&(s["--base-color"]=a),typeof l<"u"&&(s["--highlight-color"]=l),typeof c=="string"&&(s["--custom-highlight-background"]=c),s}function v({count:a=1,wrapper:l,className:m,containerClassName:p,containerTestId:h,circle:b=!1,style:r,...f}){var n,c,s;const k=y.useContext(M),j={...f};for(const[d,u]of Object.entries(f))typeof u>"u"&&delete j[d];const t={...k,...j,circle:b},o={...r,...O(t)};let N="react-loading-skeleton";m&&(N+=` ${m}`);const S=(n=t.inline)!==null&&n!==void 0?n:!1,g=[],w=Math.ceil(a);for(let d=0;d<w;d++){let u=o;if(w>a&&d===w-1){const A=(c=u.width)!==null&&c!==void 0?c:"100%",D=a%1,F=typeof A=="number"?A*D:`calc(${A} * ${D})`;u={...u,width:F}}const P=y.createElement("span",{className:N,style:u,key:d},"‌");S?g.push(P):g.push(y.createElement(y.Fragment,{key:d},P,y.createElement("br",null)))}return y.createElement("span",{className:p,"data-testid":h,"aria-live":"polite","aria-busy":(s=t.enableAnimation)!==null&&s!==void 0?s:$},l?g.map((d,u)=>y.createElement(l,{key:u},d)):g)}const E=({active:a,direction:l})=>a?e.jsx("span",{className:"inline-block ml-1",children:l==="asc"?"▲":"▼"}):null;function K(){const{data:a,fetchNextPage:l,hasNextPage:m,isFetchingNextPage:p,isLoading:h}=_(),b=(a==null?void 0:a.pages.flat())??[],[r,f]=C.useState(i.Name),[n,c]=C.useState(x.Asc),s=t=>{r===t?c(o=>o===x.Asc?x.Desc:x.Asc):(f(t),c(x.Asc))},k=(t,o)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),s(o))},j=C.useMemo(()=>{const t=[...b];return t.sort((o,N)=>{const S=r===i.Price?Number(o[r]):String(o[r]).toLowerCase(),g=r===i.Price?Number(N[r]):String(N[r]).toLowerCase();return S<g?n===x.Asc?-1:1:S>g?n===x.Asc?1:-1:0}),t},[b,r,n]);return e.jsxs("div",{className:"rounded-2xl shadow-md border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900",children:[e.jsxs("table",{className:"w-full table-auto text-sm text-left text-gray-800 dark:text-gray-100",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"sticky top-[68px] bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("th",{className:"px-6 py-4 font-semibold tracking-wide uppercase text-xs cursor-pointer select-none",onClick:()=>s(i.Name),role:"button","aria-sort":r===i.Name?n===x.Asc?"ascending":"descending":"none",tabIndex:0,onKeyDown:t=>k(t,i.Name),children:["Name",e.jsx(E,{active:r===i.Name,direction:n})]}),e.jsxs("th",{className:"px-6 py-4 font-semibold tracking-wide uppercase text-xs cursor-pointer select-none",onClick:()=>s(i.Price),role:"button","aria-sort":r===i.Price?n===x.Asc?"ascending":"descending":"none",tabIndex:0,onKeyDown:t=>k(t,i.Price),children:["Price (USD)",e.jsx(E,{active:r===i.Price,direction:n})]}),e.jsx("th",{className:"px-6 py-4 font-semibold tracking-wide uppercase text-xs",children:"Buy/Sell"})]})}),e.jsx("tbody",{children:h?Array.from({length:10}).map((t,o)=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{circle:!0,width:28,height:28}),e.jsx(v,{width:100,height:18})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(v,{width:60,height:18})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx(v,{width:80,height:18})})]},o)):j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:3,className:"px-6 py-10 text-center text-gray-500 dark:text-gray-400",children:"No data available."})}):j.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors group",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.image,alt:`${t.name} logo`,className:"w-7 h-7 rounded-full border border-gray-300 dark:border-gray-700 shadow-sm"}),e.jsx("span",{className:"font-medium text-sm",children:t.name})]})}),e.jsxs("td",{className:"px-6 py-4 text-sm text-gray-700 dark:text-gray-300",children:["$",t.current_price.toLocaleString()]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs(B,{defaultValue:"",onChange:o=>alert(`You selected ${o.target.value} for ${t.name}`),children:[e.jsx("option",{value:"",disabled:!0,children:"Buy/Sell"}),e.jsx("option",{value:"buy",children:"Buy"}),e.jsx("option",{value:"sell",children:"Sell"})]})})]},t.id))})]}),m&&e.jsx("div",{className:"flex justify-center py-6",children:e.jsx(L,{onClick:()=>l(),disabled:p,className:"bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-2 rounded-lg transition",children:p?"Loading...":"Show More"})})]})}function V(){return e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Crypto Assets"}),e.jsx(K,{})]})}export{V as default};
